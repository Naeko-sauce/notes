# 文件包含  



* 文件包含：在一个php脚本中，去将另外一个文件（PHP）包含进来，去合作完成一件事情

## 文件包含的作用

* 文件包含的意义

  > * 要么使用呗包含的文件内容，实现代码的共享（重用）：向上包含在当前脚本要用某个代码之前包含别的文件
  > * 要么自己有东西可以给别的文件使用，实现代码的共享：向下包含，在自己有某个东西的时候，需要别的脚本来显示
  > * 最大的作用就是分工协作，因此可以使用协作方式，让多个脚本共同完成一件事情

## 文件包含四种形式

* 在php中文件的包含有四种形式（两种大形式）

  > include：包含文件
  >
  > include_once:系统会自动判断文件包含过程中，是否已经包含过（一个文件最多被包含一次
  >
  > require：与include相同
  >
  > require_once：以incude_once相同
  >
  > ```php
  > <?php
  > //包含文件
  > include 'w1.php';//包含当前文件w1.php所在文件夹下的w1.php
  > echo '<hr/>';
  > echo $a,p;
  > ?>
  > ```
  >
  > ```php
  > //被包含文件
  > //定义数据
  > $a = 1;
  > define('p',3.12);
  > ```

## 文件加载原理

* 文件加载原理：

* php代码执行流程首先读取代码文件，然后编译将php代码转换成字节码（生成opcode）

  > * 在文件加载（include或者require）的时候，系统会自动的将被包含文件中的代码嵌入当前文件中
  > * 加载位置：在哪里加载，对应的文件中的代码嵌入的位置就是对应的include位置
  > * 在php中被包含的文件是单独进行编译的， php文件在编译的过程中如果出现了语法错误，那么会失败。但是如果被包含文件有错误的时候，系统会在执行到包含include这条语句的时候才会报错

## 文件加载路径

* 文件在加载的时候需要指定文件路径才能保证php正确的找到对应的文件

  > * 文件包含分两大类
  >
  >   > 绝对路径：从盘符的根目录开始
  >   >
  >   > 相对路径：从当前文件所在目录开始的路径
  >   >
  >   > > .或者./ 表示当前文件夹
  >   > >
  >   > > ../上级目录，表示当前文件夹的上一层
  >   >
  >   > 绝对路径和相对路径的加载区别
  >   >
  >   > > 绝对路径相对效率偏低，但是相对安全
  >   > >
  >   > > 相对路径相对效率高些，但是容易出错（相对路径会发生改变）